> [6. Documentaci√≥n de Arquitectura (Bosquejo)](../6.md) ‚Ä∫ [6.3. Diagrama de Componentes](6.3.md)

# 6.3. Diagrama de Componentes

### Aplicacion React Native

![Aplicacion React Native](./diagram/app.svg)

La Aplicaci√≥n React Native es la interfaz m√≥vil y web que los usuarios ven en sus tel√©fonos y computadoras. Los Componentes UI son bloques visuales reutilizables (botones, tarjetas, formularios) que mantienen coherencia visual. Las seis Pantallas (B√∫squeda, Publicaci√≥n, Perfil, Proyectos, Chat, Pagos) utilizan estos componentes para mostrar funcionalidades espec√≠ficas. El Navegador Stack gestiona la navegaci√≥n entre pantallas, permitiendo ir hacia adelante y atr√°s. El Gestor de Estado almacena informaci√≥n global en la memoria del tel√©fono para evitar consultas innecesarias al servidor. El Cliente HTTP es el mensajero que comunica la app con el servidor backend, enviando y recibiendo datos. Todas las pantallas utilizan el Cliente HTTP para sus operaciones espec√≠ficas: B√∫squeda consulta ideas, Publicaci√≥n env√≠a nuevas ideas, Chat tiene conexi√≥n WebSocket directa para mensajes en tiempo real, Pagos procesa transacciones de manera segura.

### Base de datos MongoDB

![Aplicacion React Native](./diagram/bdmongo.svg)

MongoDB almacena datos flexibles que var√≠an mucho en estructura. La Colecci√≥n Ideas guarda todas las ideas publicadas con t√≠tulo, descripci√≥n, categor√≠a, presupuesto, archivos y comentarios. La Colecci√≥n Proyectos almacena proyectos derivados de ideas con equipo, hitos y progreso (relaci√≥n 1:N con Ideas: una idea genera m√∫ltiples proyectos). La Colecci√≥n Colaboradores registra qui√©n trabaja en cada proyecto con su rol y estado (relaci√≥n 1:N con Proyectos). La Colecci√≥n Comentarios guarda comentarios anidados en ideas y proyectos, permitiendo threads de conversaci√≥n. La Colecci√≥n Actividades registra el historial de acciones en el sistema (qui√©n hizo qu√© y cu√°ndo) para auditor√≠a y timeline. MongoDB es perfecta aqu√≠ porque las ideas, proyectos y comentarios son impredecibles en estructura y crecen constantemente.

### Base de datos PostgreSQL

![Aplicacion React Native](./diagram/bdpostgres.svg)

PostgreSQL almacena datos estructurados que requieren m√°xima confiabilidad. La Tabla Usuarios guarda email, contrase√±a encriptada y metadata (relaci√≥n 1:N con Habilidades, M:N con Roles). La Tabla Habilidades lista competencias t√©cnicas con nivel de experiencia. La Tabla Roles define permisos del sistema (admin, developer, designer). La Tabla Transacciones es la m√°s cr√≠tica: registra cada movimiento de dinero con pagador, receptor, cantidad y estado, con garant√≠a ACID para que nunca se pierda o quede inconsistente. La Tabla Mensajes persiste chats: sender_id, receiver_id, contenido y timestamp. La Tabla Notificaciones almacena alertas para usuarios. PostgreSQL es esencial para estos datos porque garantiza integridad incluso si el sistema falla a mitad de una operaci√≥n.

### API Backend

![Aplicacion React Native](./diagram/api.svg)

El API Backend es el cerebro que orquesta toda la l√≥gica de negocio, dividido en capas especializadas. La Autenticaci√≥n (Controlador, Servicio, Validador de Tokens) gestiona login y verifica que cada petici√≥n provenga de un usuario v√°lido. La capa de Ideas (Controlador, Servicio, Repositorio) maneja publicaci√≥n, b√∫squeda y actualizaci√≥n de ideas en MongoDB. La capa de Perfiles gestiona informaci√≥n de usuarios, habilidades y roles en PostgreSQL. La capa de B√∫squeda (Controlador, Servicio, Adaptador) usa Elasticsearch para b√∫squeda full-text r√°pida de ideas. La capa de Colaboraci√≥n maneja postulaciones y aceptaci√≥n de colaboradores en proyectos, coordinando cambios entre MongoDB y el sistema de transacciones. La capa de Pagos procesa transacciones de manera segura en PostgreSQL con verificaciones rigurosas. La capa de Chat persiste mensajes en PostgreSQL pero usa Socket.io para entrega en tiempo real. Componentes transversales incluyen: Validador de Entradas (verifica que datos sean correctos), Manejador de Errores (captura y procesa excepciones), Logger (registra eventos para auditor√≠a), y Orquestador de Transacciones (coordina operaciones multi-base de datos para garantizar consistencia, especialmente en pagos y colaboraciones).


---

[‚¨ÖÔ∏è Anterior](../6.2/6.2.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../6.4/6.4.md)
